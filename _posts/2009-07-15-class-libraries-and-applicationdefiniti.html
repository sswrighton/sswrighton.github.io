---
layout: post
title: Class Libraries and "ApplicationDefinition"
date: '2009-07-15T18:05:00.000-05:00'
author: Stephen Wrighton
tags:
- ".NET"
- Visual Studio
- Coding
- WPF
modified_time: '2009-07-15T18:05:00.431-05:00'
blogger_id: tag:blogger.com,1999:blog-947968907697915479.post-613955204020225763
blogger_orig_url: https://programmer.wrighton.org/2009/07/class-libraries-and-applicationdefiniti.html
---

Oh the joys of Visual Studio IDE.<br /><br />99% of the time, I love this tool, but there's that other 1% of the time, when I could happily smack it six ways to Sunday.<br /><br />Well today I was working in a Class Library of one of my projects, and all of a sudden, it stopped compiling.<br /><br />Just refused.<br /><br />Which of course broke things up and down the solution, as this particular library is my Data Layer.<br /><br />So, I peruse the Error List, and come across this two errors:<blockquote><span style="font-weight: bold;">Error 1</span> Library project file cannot specify ApplicationDefinition element.<br /><span style="font-weight: bold;">Error 2</span> The project file contains a property value that is not valid. </blockquote>With absolutely NO reference to where, how, what, or even which object in the project that is generating these two wonderful ambiguous errors.<br /><br />So, I turn to my good friend Google.<br /><br />And got a lot, and a lot of results. Most of them talking about removing APP.XAML from the project (which I didn't have one in this project) or just flat out not knowing what it was/is/or means.<br /><br />It's at this point that I start rubbing the bridge of my nose. I need to test my changes, and deploy for a customer display by this afternoon.<br /><br />Starting to worry a bit, I removed the new dialog I had created (even though it was a WinForms dialog as opposed to a WPF window) and attempted to recompile.<br /><br />Still with the error.<br /><br />So, I change my search parameters slightly, and delve deeper into the mysterious workings of Google Search Results.<br /><br />And found this <a href="http://geeks.ms/blogs/etomas/archive/2008/10/14/wpf-library-project-file-cannot-specify-applicationdefinition-element.aspx">link</a> (translated into English <a href="http://translate.google.com/translate?hl=en&amp;sl=es&amp;u=http://geeks.ms/blogs/etomas/archive/2008/10/14/wpf-library-project-file-cannot-specify-applicationdefinition-element.aspx&amp;ei=iP1dSvXfA9PEmQeWs51_&amp;sa=X&amp;oi=translate&amp;resnum=7&amp;ct=result&amp;prev=/search%3Fq%3DLibrary%2Bproject%2Bfile%2Bcannot%2Bspecify%2BApplicationDefinition%2Belement.%26hl%3Den%26safe%3Doff%26client%3Dfirefox-a%26channel%3Ds%26rls%3Dorg.mozilla:en-US:official%26hs%3Duem">here</a>).<br /><br />The basics talks of dragging objects from a WPF Application or a WPF Library project into a standard project. Apparently, the BUILD for these items will  be changed from whatever they are in the WPF-based project to an "Application Definition" build command.<br /><br />Which of course breaks a library, as only executable projects can build with Application Definition--and it's usually the App.XAML file which recieves this build type.<br /><br />Pondering this, as I had not dragged nor dropped anything into the project, I remembered that I had added an object to this library; but instead of creating it new, or dragging &amp; dropping, I had cut-and-pasted it into my resources folder.<br /><br />So, I look at the build information for this image, and lo-and-behold, it had been changed to ApplicationDefinition.<br /><br />I quickly modified it back to Resource like it should have been, and then compiled.<br /><br />Eureka!  And not the tv show, or the anime character, but rather the original intent.<br /><br />Compilation proceeded, things started working, and life was good.<br /><br />At least until I ran across my next bug....