---
layout: post
title: 'WATIR: Web Application Testing in Ruby'
date: '2007-01-26T22:16:00.000-06:00'
author: Stephen Wrighton
tags:
- Link
- HTML
- ASP.Net
- Web
- Testing
modified_time: '2007-01-26T22:28:11.479-06:00'
blogger_id: tag:blogger.com,1999:blog-947968907697915479.post-1161107956100312813
blogger_orig_url: https://programmer.wrighton.org/2007/01/watir-web-application-testing-in-ruby.html
---

I am so excited about this. It's probably one of the niftiest tools for use in black-box testing websites/web applications that I have ever found.<br /><br /><a href="http://wtr.rubyforge.org/">WATIR </a>is a ruby based system which allows you to create small scripts that drive your installed instance of IE. Using code that looks like thus:<br /><blockquote>  <span style="color: rgb(51, 51, 255);"> require </span><span style="color: rgb(153, 153, 0);">'watir' </span>  <span style="color: rgb(0, 102, 0);"># the watir controller</span><br /><br />   <span style="color: rgb(0, 102, 0);"># set a variable</span><br />   test_site = <span style="color: rgb(153, 153, 0);">'http://www.google.com'</span><br /><br />   <span style="color: rgb(0, 102, 0);"># open the IE browser</span><br />   ie = Watir::IE.new<br /><br />   <span style="color: rgb(0, 102, 0);"># print some comments</span><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"## Beginning of test: Google search"</span><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"   "</span><br /><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Step 1: go to the test site: "</span> + test_site<br />   ie.goto(test_site)<br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"  Action: entered "</span> + test_site + <span style="color: rgb(102, 102, 102);">" in the address bar."</span><br /><br />   <span style="color: rgb(51, 51, 255);">puts </span>"Step 2: enter 'pickaxe' in the search text field"<br />   ie.text_field(:name, "q").set("pickaxe")       # q is the name of the search field<br />   <span style="color: rgb(51, 51, 255);">puts </span>"  Action: entered pickaxe in the search field"<br /><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Step 3: click the 'Google Search' button"</span><br />   ie.button(:name, <span style="color: rgb(102, 102, 102);">"btnG"</span>).click   <span style="color: rgb(0, 102, 0);"># "btnG" is the name of the Search button</span><br />   <span style="color: rgb(51, 51, 255);">puts </span>"<span style="color: rgb(102, 102, 102);">  Action: clicked the Google Search button."</span><br /><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Expected Result: "</span><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">" - a Google page with results should be shown. 'Programming Ruby' should be high on the list."</span><br /><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Actual Result: Check that the 'Programming Ruby' link appears on the results page "</span><br />   <span style="color: rgb(51, 51, 255);">if </span>ie.contains_text("<span style="color: rgb(102, 102, 102);">Programming Ruby</span>")<br />      <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Test Passed. Found the test string: 'Programming Ruby'. Actual Results match Expected Results."</span><br />   <span style="color: rgb(51, 51, 255);">else</span><br />      <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"Test Failed! Could not find: 'Programming Ruby'"</span><br />   <span style="color: rgb(51, 51, 255);">end</span><br /><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"  "</span><br />   <span style="color: rgb(51, 51, 255);">puts </span><span style="color: rgb(102, 102, 102);">"## End of test: Google search"</span></blockquote><span style="color: rgb(102, 102, 102);"></span><br />That script listed above actually works, and will drive an IE browser to the Google homepage and force it to search for the term. So, as we build complex web applications, we can build these testing scripts, and when we roll out new capabilities, rather than having to spend hours upon hours doing formal tests for regression, you just spend a little bit running all the scripts again.